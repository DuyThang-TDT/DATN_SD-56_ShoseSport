@{
    Layout = null;
    var email = Context.Session.GetString("ResetPasswordEmail") ?? "";
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FuryFriend - Kiểm Tra Email</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="~/css/dangkystyle.css" rel="stylesheet" />
</head>
<body>
    <div class="bg-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="signup-container" style="text-align: center;">
        <div class="logo-section">
            <div class="logo">FuryFriend</div>
            <div class="subtitle">Kiểm Tra Email</div>
        </div>
        
        <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
            <i class="bi bi-envelope-check" style="font-size: 40px; color: white;"></i>
        </div>
        
        <h2 style="color: #10b981; margin-bottom: 15px;">Đã Gửi Yêu Cầu!</h2>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; text-align: left;">
            <p style="color: #666; line-height: 1.6; margin: 0;">
                <strong>Bước tiếp theo:</strong><br>
                1. Kiểm tra hộp thư đến của bạn<br>
                2. Tìm email từ <strong>vgrvgn01@gmail.com</strong><br>
                3. Sao chép mã 6 số từ email<br>
                4. Nhập mã bên dưới để đặt lại mật khẩu
            </p>
        </div>
        
        <!-- Form nhập mã xác nhận -->
        <div style="background: white; padding: 20px; border-radius: 8px; border: 1px solid #e9ecef; margin: 20px 0;">
            <h4 style="color: #333; margin-bottom: 15px;">Nhập Mã Xác Nhận</h4>
            <form id="codeForm" style="text-align: center;">
                <div style="margin-bottom: 15px;">
                    <input type="text" id="verificationCode" placeholder="Nhập mã 6 số" 
                           maxlength="6" style="width: 200px; padding: 12px; border: 2px solid #e9ecef; border-radius: 8px; font-size: 18px; text-align: center; letter-spacing: 2px;" />
                </div>
                <button type="button" onclick="submitCode()" class="signup-btn" style="width: 200px;">
                    <i class="bi bi-check-circle"></i> Xác Nhận Mã
                </button>
            </form>
        </div>
        
        <p style="color: #666; font-size: 14px; margin-bottom: 20px;">
            <i class="bi bi-info-circle"></i> 
            Không nhận được email? Hãy kiểm tra thư mục spam hoặc thử lại.
        </p>
        
        <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
            <a asp-controller="Account" asp-action="ForgotPassword" class="signup-btn" style="text-decoration: none; background: #6c757d;">
                <i class="bi bi-arrow-clockwise"></i> Thử Lại
            </a>
            <a asp-controller="KhachHangLogin" asp-action="DangNhap" class="signup-btn" style="text-decoration: none;">
                <i class="bi bi-arrow-left"></i> Quay Về Đăng Nhập
            </a>
        </div>
    </div>

    <script>
        function submitCode() {
            const code = document.getElementById('verificationCode').value.trim();
            if (code.length !== 6) {
                alert('Vui lòng nhập đúng mã 6 số!');
                return;
            }
            
            // Lấy email từ session
            const email = '@email';
            
            // Chuyển hướng đến trang ResetPassword với email và code
            window.location.href = `/Account/ResetPassword?email=${encodeURIComponent(email)}&code=${code}`;
        }
        
        // Auto-focus vào ô mã
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('verificationCode').focus();
        });
    </script>
</body>
</html>